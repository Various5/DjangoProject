<!-- pcrmgmtAPP/templates/maintenance/maintenance_task_pdf.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Maintenance Task #{{ task.id }} Report</title>
    <style>
      body { font-family: Arial, sans-serif; font-size: 14px; }
      h1 { font-size: 18px; }
      .done { color: green; }
      .notdone { color: red; }
      table { width: 100%; border-collapse: collapse; margin-top: 1em; }
      th, td { border: 1px solid #ccc; padding: 6px; }
      th { background: #eee; }
    </style>
</head>
<body>
    <h1>Maintenance Task #{{ task.id }} - PDF Report</h1>
    <p>
      <strong>Company:</strong> {{ config.customer_firma }} <br>
      <strong>Due Date:</strong> {{ task.due_date|date:"Y-m-d H:i" }} <br>
      <strong>Completed At:</strong> {% if task.completed_at %}{{ task.completed_at|date:"Y-m-d H:i" }}{% else %}---{% endif %} <br>
      <strong>Status:</strong> {{ task.status|title }} <br>
      <strong>Assigned To:</strong> {% if task.assigned_to %}{{ task.assigned_to.username }}{% else %}---{% endif %}
    </p>

    <hr>

    <h2>Sub-check Items</h2>
    <table>
      <thead>
        <tr>
          <th>Check Name</th>
          <th>Status</th>
          <th>Description</th>
          <!-- If you want to embed images, see note below -->
        </tr>
      </thead>
      <tbody>
      {% for log_item in logs %}
        <tr>
          <td>{{ log_item.sub_check_name }}</td>
          <td>
            {% if log_item.is_done %}
              <span class="done">Done</span>
            {% else %}
              <span class="notdone">Not Done</span>
            {% endif %}
          </td>
          <td>
            {{ log_item.description|safe }}
            <!-- If you'd like to show a screenshot link, or embed:
                 WeasyPrint needs absolute URLs or base64 images. E.g.:
                 {% if log_item.screenshot %}
                   <br>
                   <img src="{{ log_item.screenshot.url }}" style="max-width:200px;" />
                 {% endif %}
            -->
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>

    <hr>
    <p style="font-size: 12px; margin-top: 2em;">
      Generated on {{ now|date:"Y-m-d H:i" }} by PCR System
    </p>
</body>
</html>
